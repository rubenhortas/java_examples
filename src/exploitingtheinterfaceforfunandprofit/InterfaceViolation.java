package exploitingtheinterfaceforfunandprofit;

// Example extracted from the book "Thinking in Java" of Bruce Eckel.
public class InterfaceViolation {
    @SuppressWarnings({"ConstantConditions", "CastCanBeRemovedNarrowingVariableType"})
    public static void main(String[] args) {
        IA a = new B();

        System.out.printf("a is implemented as %s%n", a.getClass()
                .getName());
        a.methodFromA();
        // a.methodFromB(); // Compile error

        /*
         * A has been implemented as B. By casting a to B we can call a
         * method that's not in A.
         */
        if (a instanceof B) {
            System.out.println("Casting a to B");
            B b = (B) a;
            b.methodFromA();
            b.methodFromB();
        }
    }
}
